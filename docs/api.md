# API æ–‡æ¡£

The Playground åç«¯ API æ–‡æ¡£

## åŸºç¡€ä¿¡æ¯

- **Base URL**: `http://localhost:8000` (å¼€å‘ç¯å¢ƒ)
- **API ç‰ˆæœ¬**: v1.0.0
- **æ–‡æ¡£åœ°å€**: `http://localhost:8000/docs` (Swagger UI)
- **ReDoc åœ°å€**: `http://localhost:8000/redoc`

## è®¤è¯

å½“å‰ç‰ˆæœ¬æ— éœ€è®¤è¯ï¼Œç”Ÿäº§ç¯å¢ƒå»ºè®®æ·»åŠ è®¤è¯æœºåˆ¶ã€‚

## ç«¯ç‚¹åˆ—è¡¨

### é¡¹ç›®ç›¸å…³ API

#### è·å–æ‰€æœ‰é¡¹ç›®
```
GET /api/projects
```

**æŸ¥è¯¢å‚æ•°**:
- `skip` (int, å¯é€‰): è·³è¿‡è®°å½•æ•°ï¼Œé»˜è®¤ 0
- `limit` (int, å¯é€‰): è¿”å›è®°å½•æ•°ï¼Œé»˜è®¤ 100
- `type` (string, å¯é€‰): é¡¹ç›®ç±»å‹ç­›é€‰ (app, animation, tool, note, experiment)
- `status` (string, å¯é€‰): é¡¹ç›®çŠ¶æ€ç­›é€‰ (active, completed, archived)

**å“åº”ç¤ºä¾‹**:
```json
[
  {
    "id": 1,
    "title": "å®å®èƒåŠ¨è®°å½•å™¨",
    "description": "ä¸“ä¸ºå­•æœŸè®¾è®¡çš„èƒåŠ¨è®°å½•å·¥å…·",
    "icon": "â¤ï¸",
    "type": "app",
    "status": "completed",
    "tech_stack": ["HTML5", "CSS3", "JavaScript"],
    "tags": ["å¥åº·", "å·¥å…·"],
    "link": "projects/fetal-movement/index.html",
    "inspiration": "ä¸ºæ€€å­•çš„è€å©†è®°å½•èƒåŠ¨çš„éœ€æ±‚",
    "date": "2025-12-21",
    "created_at": "2025-01-01T00:00:00",
    "updated_at": null
  }
]
```

#### è·å–å•ä¸ªé¡¹ç›®
```
GET /api/projects/{project_id}
```

#### åˆ›å»ºé¡¹ç›®
```
POST /api/projects
```

**è¯·æ±‚ä½“**:
```json
{
  "title": "æ–°é¡¹ç›®",
  "description": "é¡¹ç›®æè¿°",
  "icon": "ğŸ“¦",
  "type": "app",
  "status": "active",
  "tech_stack": ["HTML5", "CSS3"],
  "tags": ["æ ‡ç­¾1", "æ ‡ç­¾2"],
  "link": "projects/new-project/index.html",
  "inspiration": "çµæ„Ÿæ¥æº",
  "date": "2025-01-01"
}
```

#### æ›´æ–°é¡¹ç›®
```
PUT /api/projects/{project_id}
```

#### åˆ é™¤é¡¹ç›®
```
DELETE /api/projects/{project_id}
```

### æ–‡æœ¬è®°å½•ç›¸å…³ API

#### è·å–æ‰€æœ‰æ–‡æœ¬è®°å½•
```
GET /api/notes
```

**æŸ¥è¯¢å‚æ•°**:
- `skip` (int, å¯é€‰): è·³è¿‡è®°å½•æ•°ï¼Œé»˜è®¤ 0
- `limit` (int, å¯é€‰): è¿”å›è®°å½•æ•°ï¼Œé»˜è®¤ 100

**å“åº”ç¤ºä¾‹**:
```json
[
  {
    "id": 1,
    "title": "æƒ³æ³•æ ‡é¢˜",
    "content": "æƒ³æ³•å†…å®¹...",
    "tags": ["æ ‡ç­¾1", "æ ‡ç­¾2"],
    "created_at": "2025-01-01T00:00:00",
    "updated_at": null
  }
]
```

#### è·å–å•ä¸ªæ–‡æœ¬è®°å½•
```
GET /api/notes/{note_id}
```

#### åˆ›å»ºæ–‡æœ¬è®°å½•
```
POST /api/notes
```

**è¯·æ±‚ä½“**:
```json
{
  "title": "æ–°æƒ³æ³•",
  "content": "æƒ³æ³•å†…å®¹",
  "tags": ["æ ‡ç­¾1", "æ ‡ç­¾2"]
}
```

#### æ›´æ–°æ–‡æœ¬è®°å½•
```
PUT /api/notes/{note_id}
```

#### åˆ é™¤æ–‡æœ¬è®°å½•
```
DELETE /api/notes/{note_id}
```

### Notion åŒæ­¥ç›¸å…³ API

#### è·å–å·²åŒæ­¥çš„é¡µé¢
```
GET /api/notion/sync
```

**æŸ¥è¯¢å‚æ•°**:
- `skip` (int, å¯é€‰): è·³è¿‡è®°å½•æ•°ï¼Œé»˜è®¤ 0
- `limit` (int, å¯é€‰): è¿”å›è®°å½•æ•°ï¼Œé»˜è®¤ 100

**å“åº”ç¤ºä¾‹**:
```json
[
  {
    "id": 1,
    "page_id": "notion-page-id",
    "title": "Notion é¡µé¢æ ‡é¢˜",
    "content": "åŒæ­¥çš„å†…å®¹...",
    "synced_at": "2025-01-01T00:00:00",
    "last_modified": "2025-01-01T00:00:00"
  }
]
```

#### æ‰‹åŠ¨è§¦å‘åŒæ­¥
```
POST /api/notion/sync
```

**å“åº”**: è¿”å›åŒæ­¥åçš„é¡µé¢åˆ—è¡¨

**é”™è¯¯å“åº”**:
```json
{
  "detail": "Notion API é…ç½®ä¸å®Œæ•´ï¼Œè¯·æ£€æŸ¥ NOTION_API_KEY å’Œ NOTION_DATABASE_ID"
}
```

## é”™è¯¯å¤„ç†

API ä½¿ç”¨æ ‡å‡† HTTP çŠ¶æ€ç ï¼š

- `200` - æˆåŠŸ
- `201` - åˆ›å»ºæˆåŠŸ
- `204` - åˆ é™¤æˆåŠŸï¼ˆæ— å†…å®¹ï¼‰
- `400` - è¯·æ±‚é”™è¯¯
- `404` - èµ„æºä¸å­˜åœ¨
- `500` - æœåŠ¡å™¨é”™è¯¯

é”™è¯¯å“åº”æ ¼å¼ï¼š
```json
{
  "detail": "é”™è¯¯æè¿°"
}
```

## CORS é…ç½®

å½“å‰é…ç½®å…è®¸æ‰€æœ‰æ¥æºè®¿é—®ï¼ˆå¼€å‘ç¯å¢ƒï¼‰ã€‚ç”Ÿäº§ç¯å¢ƒåº”é™åˆ¶ä¸ºç‰¹å®šåŸŸåã€‚

## æ•°æ®æ¨¡å‹

### Projectï¼ˆé¡¹ç›®ï¼‰
- `id`: æ•´æ•°ï¼Œä¸»é”®
- `title`: å­—ç¬¦ä¸²ï¼Œé¡¹ç›®æ ‡é¢˜
- `description`: å­—ç¬¦ä¸²ï¼Œé¡¹ç›®æè¿°ï¼ˆå¯é€‰ï¼‰
- `icon`: å­—ç¬¦ä¸²ï¼Œå›¾æ ‡ï¼ˆå¯é€‰ï¼‰
- `type`: å­—ç¬¦ä¸²ï¼Œé¡¹ç›®ç±»å‹ (app, animation, tool, note, experiment)
- `status`: å­—ç¬¦ä¸²ï¼Œé¡¹ç›®çŠ¶æ€ (active, completed, archived)
- `tech_stack`: JSON æ•°ç»„ï¼ŒæŠ€æœ¯æ ˆåˆ—è¡¨
- `tags`: JSON æ•°ç»„ï¼Œæ ‡ç­¾åˆ—è¡¨
- `link`: å­—ç¬¦ä¸²ï¼Œé¡¹ç›®é“¾æ¥ï¼ˆå¯é€‰ï¼‰
- `inspiration`: å­—ç¬¦ä¸²ï¼Œçµæ„Ÿæ¥æºï¼ˆå¯é€‰ï¼‰
- `date`: å­—ç¬¦ä¸²ï¼Œåˆ›å»ºæ—¥æœŸï¼ˆå¯é€‰ï¼‰
- `created_at`: æ—¥æœŸæ—¶é—´ï¼Œåˆ›å»ºæ—¶é—´
- `updated_at`: æ—¥æœŸæ—¶é—´ï¼Œæ›´æ–°æ—¶é—´ï¼ˆå¯é€‰ï¼‰

### Noteï¼ˆæ–‡æœ¬è®°å½•ï¼‰
- `id`: æ•´æ•°ï¼Œä¸»é”®
- `title`: å­—ç¬¦ä¸²ï¼Œæ ‡é¢˜
- `content`: æ–‡æœ¬ï¼Œå†…å®¹ï¼ˆå¯é€‰ï¼‰
- `tags`: JSON æ•°ç»„ï¼Œæ ‡ç­¾åˆ—è¡¨ï¼ˆå¯é€‰ï¼‰
- `created_at`: æ—¥æœŸæ—¶é—´ï¼Œåˆ›å»ºæ—¶é—´
- `updated_at`: æ—¥æœŸæ—¶é—´ï¼Œæ›´æ–°æ—¶é—´ï¼ˆå¯é€‰ï¼‰

### NotionSyncï¼ˆNotion åŒæ­¥è®°å½•ï¼‰
- `id`: æ•´æ•°ï¼Œä¸»é”®
- `page_id`: å­—ç¬¦ä¸²ï¼ŒNotion é¡µé¢ IDï¼ˆå”¯ä¸€ï¼‰
- `title`: å­—ç¬¦ä¸²ï¼Œé¡µé¢æ ‡é¢˜
- `content`: æ–‡æœ¬ï¼ŒåŒæ­¥çš„å†…å®¹ï¼ˆå¯é€‰ï¼‰
- `synced_at`: æ—¥æœŸæ—¶é—´ï¼ŒåŒæ­¥æ—¶é—´
- `last_modified`: æ—¥æœŸæ—¶é—´ï¼ŒNotion é¡µé¢æœ€åä¿®æ”¹æ—¶é—´ï¼ˆå¯é€‰ï¼‰

